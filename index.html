<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS?JS stylers</title>
</head>
<body >
    <h2>Update CSS variables with <span class="hl">JS</span></h2>

    <div class="controls">
        
        <label for="spacing"> Spacing:</label>
        <input type="range" name ="spacing" min="10" max="200" value ="10" data-sizing="px">

        <label for="blur">blur:</label>
        <input type="range" name ="blur" min="0" max ="25" value ="10" data-sizing="px">

        <label for="base"><base href="">:</label>
        <input type="color" name ="base" value ="yellow" >
   



    </div>

    <img height="70%" width="80%" src="https://images.unsplash.com/photo-1542601098-8fc114e148e2?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80" alt="sorry">
      
    
    <style>
     :root{
         --base: red;
         --spacing : 10px;
         --blur : 0px;
     }

     img{
         margin-top: 2rem;
         padding: var(--spacing);
         background: var(--base);
         filter: blur(var(--blur));
     }
     .hl{
         color: var(--base);
     }
      
      body{
          text-align: center;
      }

    </style>


<script>

    //difference betwen nodelist and array is their properties . document.queryselector returns a nodelist not an array. Console log both of them to find their difference.
    const inputs = document.querySelectorAll(".controls input")


    function handleUpdate(){
        // console.log(this.value)
         //take note of the suffix ,so as to trigger the change: that is why data-set attribute is set in the class. data-sizing = "px"
          // data attribute is an object that returns all the values of data-"".
        
         const suffix = this.dataset.sizing || ""; // the or nothing , is put for the image , as it does not have any data attribute, yet. To avoid getting undefined we put the or logic.
       // console.log(suffix)

        //to update the change on the viewscreen
        console.log(this.name)
       //  document.documentElement.style.setProperty(`--${this.name}` , this.value)  //this triggers the change on the developer panel, but does not trigger the change on the view. That is why we creatd a suffix variable to specify the change.

       document.documentElement.style.setProperty(`--${this.name}` , this.value + suffix)
   
   
    }


    inputs.forEach(input => input.addEventListener("change" , handleUpdate))  // shows the change only after the slider is manipulated.
    inputs.forEach(input => input.addEventListener("mousemove" , handleUpdate)) //shows the change on mouse hover too
       
</script>



</body>
</html>